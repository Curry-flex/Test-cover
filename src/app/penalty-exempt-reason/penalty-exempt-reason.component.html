
<div class="content-block" *ngIf="pendindExeption" >
    <h4 class="header_title mb-3 p-2">Penalty Pending Exemption List </h4>
    <div class="dx-card responsive-paddings">
      <dx-data-grid
      id="gridContainer2"
      [dataSource]="responseData"
      keyExpr="penNo"
      (onRowClick)="getPenaltyPreviewDetails($event)"
      [showBorders]="true"
      [focusedRowEnabled]="true"
      [showRowLines] = "true"
      [allowColumnResizing]="true"
      [columnAutoWidth]="true"
      [columnHidingEnabled]="false"
      (onToolbarPreparing)="onParamsToolBarPreparing($event)"
      height="funcpopHeigt(datagridHeight)">
      <dxo-export [enabled]="true" fileName="Penalty-exemption" [allowExportSelectedData]="true"></dxo-export>
      <dxo-paging [pageSize]="100"></dxo-paging>
      <dxo-load-panel [enabled]="true"></dxo-load-panel>
      <dxo-pager
      [showPageSizeSelector]="true"
      [allowedPageSizes]="allowedPageSises"
       ></dxo-pager>
      <dxo-search-panel [visible]="true"></dxo-search-panel>
      <dxo-filter-row [visible]="true"></dxo-filter-row>
      <dxi-column caption="Penalty Number" dataField="penNo"></dxi-column>
      <dxi-column caption="Penalty Invoice" dataField="penInvNo"></dxi-column>
      <dxi-column caption="Penalty Description" dataField="penDesc"></dxi-column>
      <dxi-column caption="Employer Number" dataField="empNo" ></dxi-column>
      <dxi-column caption="Employer Name" dataField="empName"></dxi-column>
      <dxi-column caption="Amount" dataField="penAmount"></dxi-column>
      <dxi-column caption="Percent" dataField="penPercent"></dxi-column>
      <dxi-column caption="Reason" dataField="exmReason"></dxi-column>
      <dxi-column
      caption="Action"
      dataType="string"
      cellTemplate="cellTemplateAction">
      <div *dxTemplate="let d of 'cellTemplateAction'">
        <div class="text-center">
          <!-- <span class="text-white bg-danger rounded pl-2 pr-2">View More</span> -->
          <button class="btn btn-primary" (click)="getPenaltyPreviewDetails($event)">Approve</button>
        </div>
      </div>
    </dxi-column>
      </dx-data-grid>
 
</div>
</div>





   <div *ngIf="showApprovalData">
    <h4 class="header_title mt-3 mb-3 ml-3 mr-3 p-2">Approval Penalty Exemption</h4>
    <div class="mt-3 mb-3 ml-3 container">
        <button class="btn btn-success" (click)="backButton()"><i class="fa fa-arrow-left" aria-hidden="true"></i> Back</button>
      </div>
     
      <div>
          <div class="row ml-3">
              <div class="col-6">
                  <table class="table table-striped table-inverse table-bordered">
                      <tbody>
                        <tr>
                            <td>Penalty Number</td>
                            <td>{{singleViewPenaltyData.penNo}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Invoice Number</td>
                            <td>{{singleViewPenaltyData.penInvNo}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Invoice Control Number</td>
                            <td>{{singleViewPenaltyData.penInvCtrlNo}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Invoice Desc</td>
                            <td>{{singleViewPenaltyData.penInvDesc}}</td>
                          </tr>
                          <tr>
                            <td>Originating Invoice Number</td>
                            <td>{{singleViewPenaltyData.ogInvNo}}</td>
                          </tr>
                          <tr>
                            <td>Originating Invoice Control Number</td>
                            <td>{{singleViewPenaltyData.ogCtrlNo}}</td>
                          </tr>
                          <tr>
                            <td>Originating Invoice description</td>
                            <td>{{singleViewPenaltyData.ogInvDesc}}</td>
                          </tr>
                          <tr>
                            <td>Employer Number</td>
                            <td>{{singleViewPenaltyData.empNo}}</td>
                          </tr>
                          <tr>
                            <td>Employer Name</td>
                            <td>{{singleViewPenaltyData.empName}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Amount</td>
                            <td>{{singleViewPenaltyData.penAmount | currency: 'USD': ''}}</td>
                          </tr>
                          <tr>
                            <td>Originating Invoice Amount</td>
                            <td>{{singleViewPenaltyData.ogAmount}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Total Amount</td>
                            <td>{{singleViewPenaltyData.totalAmount | currency: 'USD':''}}</td>
                          </tr>
                        
                      </tbody>
                  </table>
              
              </div>
  
              <div class="col-6">
                  <table class="table table-striped table-inverse table-bordered">
                      <tbody>
  
                        <tr>
                            <td>Penalty Paid Amount</td>
                            <td>{{singleViewPenaltyData.paidAmount}}</td>
                          </tr>
                          <tr>
                            <td>Payment Status</td>
                            <td>{{singleViewPenaltyData.paymentStatus}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Description</td>
                            <td>{{singleViewPenaltyData.penDesc}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Percent</td>
                            <td>{{singleViewPenaltyData.penPercent}}</td>
                          </tr>
                          <tr>
                            <td>Exemption Status Flag</td>
                            <td>{{singleViewPenaltyData.exmStatus}}</td>
                          </tr>
                          <tr>
                            <td>Exemption Reason</td>
                            <td>{{singleViewPenaltyData.exmReason}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Creator User ID</td>
                            <td>{{singleViewPenaltyData.createdBy}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Creation Timestamp</td>
                            <td>{{singleViewPenaltyData.createdAt}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Modifier User ID</td>
                            <td>{{singleViewPenaltyData.modifiedBy}}</td>
                          </tr>
                          <tr>
                            <td>Penalty Modification Timestamp</td>
                            <td>{{singleViewPenaltyData.modifiedAt}}</td>
                          </tr>
                         
                      </tbody>
                  </table>
              
              </div>
          </div>
      </div>
  
      <div class="card card_border ml-3 mr-3">
          <div class="card-header card_header_background">Approval</div>
          <div class="card-body fix-side">
              <div class="col-6">
                  <table class="table table-striped table-inverse table-bordered">
                      <tbody>
                      
                        <tr >
                          <td colspan="2">
                            <form [formGroup]="penaltyExemptForm">
                               <table class="table">
                                 <thead>
                                   <th>Penalty Exemption Approval</th>
                                   <th>Action</th>
                                 </thead>
                                 <tbody>
                                   <tr>
                                     <td>
                                        <dx-select-box
                                        valueExpr="id"
                                        displayExpr="value"
                                        formControlName="exmStatus"
                                        [dataSource]="approvalDatasource"
                                        placeholder="Select action">
                                      </dx-select-box>
                                     </td>
                                     <td>
                                       <button class="btn btn-warning" (click)="penaltyExemptApproval(singleViewPenaltyData.penNo)">Submit</button>
                                     </td>
                                   </tr>
                                 </tbody>
                               </table>
                            </form>
                          </td>
                        </tr> 
                        
                      </tbody>
                  </table>
              
              </div>
          </div>
        </div>
  
   </div>
  